{"componentChunkName":"component---src-templates-post-template-js","path":"/2020/03/real-time-multi-device-collaboration-devtools/","result":{"data":{"markdownRemark":{"id":"9f1b5b3d-4698-5b5f-b92c-9188683cecb8","html":"<!-- endExcerpt -->\n<p>在开发 <a href=\"/2020/03/askent-give-up-prisma2\">Askent</a> 的 Question 列表中，需要在 <em>管理、用户、演示</em> 三端之间同步用户提问 Question 的状态。该列表需支持筛选、关键词搜索、排序、分页，使用 <a href=\"https://www.apollographql.com/docs/apollo-server/data/subscriptions/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Apollo Subscription</a>(实质是 PubSub 模式) 做了很久，同步总是存在问题，如场景：</p>\n<blockquote>\n<p>管理端置顶一条用户端当前分页中不存在的 <em>Question</em>，用户端相当于新增一条，而用户端当前分页中有该条的，则需更新</p>\n</blockquote>\n<p>针对各种场景进行补漏，代码越来越多且复杂难以维护（回顾迭代过程类似 <a href=\"https://deepstream.io/blog/20191104-realtime-search/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">deepstream 介绍 realtime search</a> 的这篇文章），我意识到在这里使用 <a href=\"https://en.wikipedia.org/wiki/Publish%E2%80%93subscribe_pattern\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PubSub 模式</a>可能是个错误。</p>\n<p>于是展开一番搜索，发现如下开发工具：</p>\n<ul>\n<li><a href=\"https://deepstream.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">deepstream</a></li>\n<li><a href=\"https://feathersjs.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Feathers</a></li>\n<li><a href=\"https://emitter.io\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Emitter</a></li>\n<li><a href=\"https://kuzzle.io\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Kuzzle</a></li>\n<li><a href=\"https://www.pubnub.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PubNub</a></li>\n</ul>\n<p>先记下来再逐一细看，也想起来之前要做一个多人协作文档编辑工具，找了些 OT 算法的实现库，但对于状态同步，那时没找到好用的工具，配合上面几个工具应该可以实现。</p>\n<p>找软件工具时，<a href=\"https://alternativeto.net/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">AlternativeTo</a> 是个很好的参考，非常适合寻找类似工具，进行横向对比选择。<strong>有个搜索关键词的技巧</strong>，在要找的软件后面加 <code class=\"language-text\">like</code> 并 Google 之，如搜：<code class=\"language-text\">pubnub like</code>。</p>\n<p>另外找到一篇有趣的文章 <a href=\"https://glebbahmutov.com/blog/redux-and-rethinkdb/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">A single data structure holding program’s state has a name - database</a>，探讨了将 <a href=\"https://redux.js.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Redux</a> and <a href=\"https://rethinkdb.com\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">RethinkDB</a> 结合使用，持久化、实时同步客户端状态，作者网站还有很多 Javascript 开发、测试主题文章，并且作者十分关注全球气候问题。</p>","excerpt":"","fields":{"slug":"/2020/03/real-time-multi-device-collaboration-devtools","categorySlugs":["/category/前端/"],"tagSlugs":["/tag/pubsub/","/tag/realtime/","/tag/graph-ql/","/tag/askent/"]},"frontmatter":{"title":"几款多端实时协作、同步的开发工具","date":"2020-03-22T10:46:37.121Z","categories":["前端"],"description":"在做一个消息列表同步时，使用 PubSub 模式针对各种场景补漏，代码越来越多且复杂难以维护。展开搜索，发现一些有用的工具","tags":["pubsub","realtime","GraphQL","Askent"],"slug":"/2020/03/real-time-multi-device-collaboration-devtools","featured_media":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACFklEQVR42mPg3/1GYNdrrgOfuPZ/5Nn7jvPgZ+79H/iAgnvecO95z73rreDhb1xtqzgC07ljSzkiCsRTqtVKuiQSyjgqZzKIbnvm2bXFqX9XUNNq37YNThN3u/Zu59/zlnvna7UtN9U23+A+/JMnv1fF1FbG1kPDxe/8pcv///1dvnIVQ0gug/COF6orr9tOOWA7Zb/5zGOOE3ZbTD/Mu/+z1Pz9yXPXJM9dLbH6ImfJFGVTGxl7Lz2f0NyGtuL2Xp+YJObwAga+3W959r3nOPiZ/eBnDhgS3fJYc8KG5AX74ufs1Zi8RWjafp7mpQKda/jaVzKWzWIonclUNpN7+n4GkJ/B3oaina8E9n8U3PXacNkl+/X3HNbdNVx+WXD/B/4Tf/gOf+M//E34+C8gEjr2i//gZ5BmwT2g4IGYIrj7Dd+yS7zLLgmsuiYw/4TA4rN8yy/xrLnJu+IK/46X/DtfIdCu1yDNrDtes+98w7XrNefONxxANPMQ18QdbJN2sc04yDrjENe0fbzzT/DMOQJUDVSMjIB+fhN78ZPH6Q9ah99ZHX9vfeK98amvtme/WZz6YnHmm+WZr7JHvvDu+yhw4BOaTpBmIG68/TX36ueES5/yr3/xP/cx7NyH/Kufos5/LLz2qejaZ8m9r3l3goIDi2aeXW/E9r6R2/8W6GHhPW+B/hfZ81Z831ugIJABFMHUA9cMABnIRY4T3kWWAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/010a7678366ffe60463c627ef7aa994c/ed3fb/featured_media.png","srcSet":"/static/010a7678366ffe60463c627ef7aa994c/ed3fb/featured_media.png 800w","sizes":"800px"},"sources":[{"srcSet":"/static/010a7678366ffe60463c627ef7aa994c/e7773/featured_media.webp 800w","type":"image/webp","sizes":"800px"}]},"width":800,"height":400}}}}},"prevPost":{"fields":{"slug":"/2020/03/askent-give-up-prisma2"},"frontmatter":{"title":"Askent 项目进展及准备弃用 Prisma2"}},"nextPost":{"fields":{"slug":"/2020/03/object-oriented-program-design-principles-study"},"frontmatter":{"title":"学习面向对象编程设计原则"}}},"pageContext":{"slug":"/2020/03/real-time-multi-device-collaboration-devtools","prevPostSlug":"/2020/03/askent-give-up-prisma2","nextPostSlug":"/2020/03/object-oriented-program-design-principles-study"}},"staticQueryHashes":["2727970573","3709504828","4110059069"],"slicesMap":{}}